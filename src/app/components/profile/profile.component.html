<div class="my-container" *ngIf="user !== null">
  <div class="wp-300">
    <div class="sidebar-header image-phone">
      <!-- redirect to settings -->
      <div class="mobile-button">
        <button class="settings" [routerLink]="['/settings']"><i class="fa fa-cog"></i></button>
      </div>

      <!-- Profil link -->
      <img src="{{user.otherInformation.publicMedia.profileImage}}"
          class="rounded-circle cursor-pointer"
          (click)="openModal(user.otherInformation.publicMedia.profileImage, 'profilImage')"
          alt=""
          width="200px"
          height="200px"
          i18n="@@logoText">
      
      <button id="btn" (click)="openModal(null, 'updateImage')" *ngIf="!status">
        <i class="fa fa-camera-retro btn-hide" aria-hidden="true"></i>
        <span class="btn-hide">Azurirati sliku</span>
      </button>

      <button class="btn-mobile-image" (click)="openModal(null, 'updateImage')">
        <i class="fa fa-camera"></i>
      </button>

      <div class="m-t-10" style="color: #fff; text-align: center;">
        <h4>{{user.firstName + ' ' + user.lastName}}</h4>
        <p style="color: #00c928; font-size: 12px">
            <i class="fa fa-map-signs" style="color: #ddd" aria-hidden="true"></i> 
            {{user.otherInformation.adress.city}} - 
            {{user.otherInformation.adress.region}} - 
            {{user.otherInformation.adress.country}} <br>
            <i class="fa fa-shopping-bag" style="color: #ddd" aria-hidden="true"></i> 
            {{user.otherInformation.jobs.name}} - 
            {{user.otherInformation.jobs.nameCompany}} - 
            {{user.otherInformation.jobs.places}}
        </p>
        
        <button 
            class="btn btn-outline-success "
            (click)="addFriends(user)"
            *ngIf="!isFriends && status && !isRequester && !isResponder">Dodati prijatelja 
            <span class="spinner-border smal" role="status" *ngIf="btnSave"></span>
        </button>
        <button 
            class="btn btn-outline-danger"
            (click)="removeRelationShip(user)"
            *ngIf="status && isRequester && !isResponder">Povuci zahtjev 
            <span class="spinner-border smal" role="status" *ngIf="btnSave"></span>
        </button>
        <button
            class="btn btn-outline-danger"
            (click)="removeRelationShip(user)"
            *ngIf="status && !isRequester && isResponder">Odbi zahtjev
            <span class="spinner-border smal" role="status" *ngIf="btnCancel"></span>
        </button>

        <button
            class="btn btn-outline-success"
            (click)="acceptRelationship(user)"
            *ngIf="status && !isRequester && isResponder">Prihvati 
            <span class="spinner-border smal" role="status" *ngIf="btnSave"></span>
        </button>
        <button
            class="btn btn-outline-danger"
            (click)="removeFriends(user)"
            *ngIf="isFriends && status && !isRequester && !isResponder">Izbrisi prijatelja 
            <span class="spinner-border smal" role="status" *ngIf="btnSave"></span>
        </button>
        
        <button
            class="btn btn-outline-success btn-hide-mobile" 
            *ngIf="!isFriends && !status && !isRequester && !isResponder" 
            [routerLink]="['/settings']">Azurirati profil 
            <span class="spinner-border smal" role="status" *ngIf="btnSave"></span>
        </button>
        
        <hr>
        <div class="privat-information">
            <app-location [typeLocation]="typeLocation" [user]="user"></app-location>
        </div>
      </div>
      
    </div>
  </div>
  <div class="wp-r-300 background height-100">
    <div class="nav-bar">
      <div class="row" style="margin-right: 0;">
        <div [ngClass]="!status ? 'col-4' : 'col-6'">
          <p 
            (click)="openTab('home')" 
            i18n="@@proflieNavHome" 
            [ngClass]="activeUser ? 'active' : ''">Pocetna
          </p>
        </div>
        <div class="col-4" *ngIf="!status">
          <p 
            (click)="openTab('friend')" 
            i18n="@@proflieNavFriend" 
            [ngClass]="activePicture ? 'active' : ''">Prijatelji
          </p>
        </div>
        <div [ngClass]="!status ? 'col-4' : 'col-6'">
          <p 
            (click)="openTab('picture')" 
            i18n="@@proflieNavPicture" 
            [ngClass]="activeFriend ? 'active' : ''">Slike
          </p>
        </div>
      </div>
    </div>

    <div class="user-tab" id="style-4" *ngIf="tab === 'home'">

      <div class="add-publication" *ngIf="!status">

        <div class="profile">
          <img src="{{user.otherInformation.publicMedia.profileImage}}" alt="" width="100%" height="100%">
        </div>

        <div class="location cursor-pointer" (click)="openModal(null, 'addLocation')">
          <div class="left"><i class="fa fa-map-marker" aria-hidden="true"></i></div>
        </div>

        <div class="location cursor-pointer" (click)="openModal(null, 'addPicture')">
          <div class="left">
            <i class="fa fa-picture-o" aria-hidden="true"></i>
          </div>
        </div>

      </div>

      <app-publication *ngFor="let item of publication" [item]="item" [user]="user">
      </app-publication>
    </div>

    <div class="user-tab" id="style-4" *ngIf="tab === 'friend'">
      <div class="spinner-border text-success friend-center" role="status" *ngIf="userList === null">
        <span class="sr-only">Loading...</span>
      </div>

      <app-friends *ngFor="let item of userList" [item]="item" [user]="user"></app-friends>
    </div>

    <div class="user-tab" id="style-4" *ngIf="tab !== 'friend' && tab !== 'home' && imagesList !== null">
      <div class="spinner-border text-success friend-center" role="status" *ngIf="imagesList === null">
        <span class="sr-only">Loading...</span>
      </div>
      
      <app-images [imagesList]="imagesList"> </app-images>    
    </div>


  </div>
</div>

<div class="container" *ngIf="user === null" style="margin: 50vh 0 0 0; text-align: center;">
  <div class="spinner-border text-success" role="status">
    <span class="sr-only">Loading...</span>
  </div>
</div>